# 编辑你的vimrc文件

在我们继续学习vim脚本之前，我们先找到一个方便的方式来给我们的~/.vimrc文件添加映射。

当你在对一个问题进行猛烈编程时，这时你可能会发现一个新的快捷键让你的工作变得更轻松，然后你需要马上把它加到你的~/.vimrc文件里以免忘记了，但是你也不希望自己分心。

这个方法就是让你能够更容易找到让文本编辑变得更容易的方法。
     
# 编辑映射

让我们添加一个映射，它实现这样的功能：在新窗口里打开我们的~/.vimrc文件，然后我们就可以编辑它，然后继续回到我们的编码工作上。运行下面的命令：

`:nnoremap <leader>ev :vsplit $MYVIMRC<cr>`

我把这个命令命令为“编辑我的vimrc文件”，映射为ev。（ev取“edit my vimrc file”中edit 和vimrc的首字母）。

$MYVIMRC是vim里的一个变量，它指向你的~/.vimrc文件。不用担心这个还没学到的变量，相信我，它可以用的。

vsplit在竖直方向分隔出一个新的窗口。如果你喜欢使用水平方向的窗口，你可以用split，不过在现在的电脑屏幕都这么宽，我很不理解你为什么要用竖直的。

现在花点时间在你的大脑里想想这个命令的功能：“在竖直方向的新窗口里打开我的~/.vimrc文件”。为什么会凑效呢？为什么这一小行命令是必须的呢？

通过上面的映射你可以用三个按键直接打开~/.vimrc文件。一旦你的手指输了掌握了这个命令，你打开这个文件会非常的迅速。

当你在编程的过程中发现了一个新的可以节省时间的快捷键，那么现在就可以很方便的把它加入到你的vimrc文件里了。

# 元效率

更方便的让自己变得高效才是高效的根本所在。
     
考虑这样一种方式：假设你现在想成为一个很好的电子摄影师。当你在联系拍照，并且想看看照片的效果时，你会

- 拍照
- 上传到你的电脑上
- 打开图片查看效果
- 这个过程需要好几分钟，如果你可以提高效率呢？

假设你花了50美元买了一个Eye-Fi内存卡。Eye-Fi内存卡是一种自带wifi网卡的内存卡，当你拍一张照片的时候，它会立马上传到你的电脑里。
     
显然，这是一种幻想，但是这不是很棒吗？

你花了50美元加上一个小时的代价，不过现在你只需要几秒钟就可以坚持你的照片，而非是好几分钟。

假设你的自由职业工作每小时可以获得100美元，你需要工作大概一个班小时来让这个投资得到回报。加入每张图片省下50秒钟的时间，那么你需要照109张照片来支付你的投资。

109张照片并不是什么，它们只不过是九牛一毛。一个甚至不会出现在雷达上的光点。它只不过是你一天工作的很少一部分，你甚至都不会注意到它。现在你两个小时的时间可以拍下远远超过109张照片。

这个问题同样适合于我们的新映射的建立。每次我们使用它的时候都能省下几秒钟的时间，但是建立它的时间远远小于一个小时。

# source mapping

一旦你向~/.vimrc文件里添加了映射时，它并不会立马生效。你的vim文件之后再vim启动的时间加载的。也就是说你在添加了映射后需要手动重启一下vim来生效，这个很蛋疼。

我们来用一个映射搞定它：
`:nnoremap <leader>sv :source $MYVIMRC<cr>`

这个命令命名为：“加载vimrc文件”

source告诉vim读取指定的文件，并把它当做vim脚本执行。

现在我们可以在疯狂编写代码的同时添加映射了：

- 用<leader>ev来打开vimrc文件
- 添加映射
- 用ZZ命令写入文件并退出新窗口，会到原来的窗口
- 用source命令来加载vimrc文件，让我们的改动生效

现在仅需8个按键和编辑映射的操作就可以完成新的映射，并且减少对当前工作的打断。

#  练习

- 把编辑vimrc文件和加载vimrc文件的映射加入到你的vimrc文件里
- 试试上面的映射，每次添加一些虚假映射
- 阅读:help myvimrc
